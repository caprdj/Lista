<!DOCTYPE html>
<html lang="pt-BR">
<head>
    
  <meta charset="UTF-8" />
  <title>Rotina 14 Dias â€” Fibro</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

<!-- PWA-->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#4b7bec">
<link rel="icon" href="icon-192.png">

 <!-- CSS externo-->
<link rel="stylesheet" href="style.css">

</head>

<body>
  <!-- CABEÃ‡ALHO -->
 <header class="card">
    <div class="header-main-top">
      <div>
        <h1>Rotina Fibro - Caroline Peixoto</h1>
        <div class="subtitle">AlimentaÃ§Ã£o Â· ExercÃ­cios Â· Casa</div>
      </div>
      <div class="header-main-top-right">
        <span class="badge primary">ğŸŒ¸</span>
      </div>
    </div>
 
     <div class="header-main-top-right">
    
</div>

 <header class="card">
    <!-- Abas -->
    <div class="tabs-header pill-group">
      <button type="button" class="tab-button active" data-tab="tabAlimentacao">
        ğŸ½ï¸ <span>AlimentaÃ§Ã£o</span>
      </button>
      <button type="button" class="tab-button" data-tab="tabExercicio">
        ğŸƒâ€â™€ï¸ <span>ExercÃ­cios</span>
      </button>
      <button type="button" class="tab-button" data-tab="tabCasa">
        ğŸ¡ <span>Casa</span>
      </button>
    </div>

    <!-- Dia, energia e contexto -->
    <div class="header-controls">
      <div class="cycle-row">
        <span>Dia do ciclo:</span>
        <select id="daySelect"></select>
      </div>

      <div class="pill-group chip-group" id="energyChips">
        <button type="button" class="chip active" data-energy="alta">ğŸ”‹ Alta</button>
        <button type="button" class="chip" data-energy="baixa">ğŸ’§ Baixa</button>
      </div>

      <div class="pill-group chip-group" id="contextChips">
        <button type="button" class="chip active" data-context="casa">ğŸ¡ Casa</button>
        <button type="button" class="chip" data-context="viagem">ğŸ§³ Viagem</button>
        <button type="button" class="chip" data-context="pais">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Pais</button>
        <button type="button" class="chip danger" data-context="pausa">â¸ Pausa</button>
      </div>
    </div>
  </header>

  <!-- ALIMENTAÃ‡ÃƒO -->
  <section id="tabAlimentacao" class="tab-panel active">
    <section class="card">
      <div class="card-header flex-between">
        <h2>
          ğŸ½ï¸ Plano de alimentaÃ§Ã£o do dia
          <span class="badge gray" id="badgeFoodDia"></span>
        </h2>
      </div>
      <div id="foodContent"></div>

      <div class="card mt-4">
        <div class="card-header flex-between">
          <h2>ğŸ“Š Resumo do dia na alimentaÃ§Ã£o</h2>
          <span class="badge orange" id="badgeFoodResumo"></span>
        </div>
        <div id="foodStats"></div>
      </div>
    </section>
  </section>

  <!-- EXERCÃCIOS -->
  <section id="tabExercicio" class="tab-panel">
    <section class="card">
      <div class="card-header flex-between">
        <h2>
          ğŸ§˜â€â™€ï¸ ExercÃ­cios do Dia
          <span class="badge gray" id="badgeExDia"></span>
        </h2>
        <span class="mini-text" id="exContextLabel"></span>
      </div>
      <div id="exerciseContent"></div>

      <div class="card-header flex-between">
        <h2>ğŸ“Š Resumo dos exercÃ­cios (ciclo 14 dias)</h2>
        <span class="badge orange" id="badgeExResumo"></span>
      </div>
      <div class="toolbar">
        <button type="button" class="btn btn-outline" id="btnDownloadExResumo">
          â¬‡ï¸ Baixar resumo (14 dias)
        </button>
      </div>
      <div id="exerciseStats"></div>
    </section>
  </section>

  <!-- CASA -->
  <section id="tabCasa" class="tab-panel">
    <section class="card">
      <div class="card-header flex-between">
        <h2>
          ğŸ¡ Casa â€” Tarefas do Dia
          <span class="badge gray" id="badgeCasaDia"></span>
        </h2>
        <span class="mini-text" id="casaContextLabel"></span>
      </div>
      <div id="domesticContent"></div>
      <div class="mini-text">
        [ ] â†’ marcar como feito â€¢ + â†’ instruÃ§Ãµes â€¢ âŠ˜ â†’ nÃ£o faz sentido hoje
        â€¢ â†º â†’ reagendar para Tarefas reagendadas.
      </div>
    </section>

    <section class="card" id="cardFlex">
      <div class="card-header flex-between">
        <h2>
          ğŸ—‚ Tarefas reagendadas
          <span class="badge gray" id="badgeFlexCount">0 tarefa(s)</span>
        </h2>
      </div>
      <div id="flexContent"></div>
    </section>

       <!-- EstatÃ­sticas Casa -->
    <section class="card" id="cardStats">
      <div class="card-header flex-between">
        <h2>ğŸ“Š Resumo & ProjeÃ§Ã£o Mensal â€“ Casa</h2>
        <span class="badge orange" id="badgeStatsPeriodo">Base: ciclo 14 dias</span>
      </div>
      <div id="statsContent"></div>
    </section>

    <!-- ğŸ‘‡ ADICIONE ESTE BLOCO AQUI -->
    <section class="card" id="cardCycleHistory">
  <div class="card-header flex-between">
    <h2>ğŸ“š HistÃ³rico de ciclos</h2>
    <div class="flex" style="gap: .4rem;">
      <button type="button" class="btn-small btn-outline" id="btnRestartCycle">
        ğŸŒ€ Reiniciar ciclo
      </button>
      <button type="button" class="btn-small" id="btnDownloadCycleHistory">
        â¬‡ï¸ Baixar histÃ³rico
      </button>
    </div>
  </div>

  <div id="cycleHistoryContent"></div>
</section>

 
  </section>
      <!-- ğŸ‘† ATÃ‰ AQUI -->

<!-- MODAL GENÃ‰RICO DE EDIÃ‡ÃƒO (reutilizado em alimentaÃ§Ã£o + exercÃ­cios) -->
  <div id="genericEditModal" class="edit-modal-overlay">
    <div class="edit-modal-card">
      <div class="edit-modal-title" id="genericEditModalTitle">Editar</div>

      <div class="edit-modal-body">
        <label for="genericEditName">Nome</label>
        <input id="genericEditName" type="text">

        <label for="genericEditInstr">InstruÃ§Ãµes / observaÃ§Ãµes</label>
        <textarea id="genericEditInstr"></textarea>
      </div>

      <div class="edit-modal-actions">
        <button type="button" class="edit-modal-btn" id="genericEditCancel">Cancelar</button>
        <button type="button" class="edit-modal-btn primary" id="genericEditSave">Salvar</button>
      </div>
    </div>
  </div>

  
<!-- ===== MODAL DE EDIÃ‡ÃƒO DE TAREFA ===== -->
<div id="editTaskModal" class="modal-overlay" style="display:none;">
  <div class="modal-card">
    <h3>Editar tarefa</h3>

    <label for="editTaskName">Nome da tarefa:</label>
    <input type="text" id="editTaskName" />

    <label for="editTaskInstr">InstruÃ§Ãµes (opcional):</label>
    <textarea id="editTaskInstr"></textarea>

    <label for="editTaskTipo">Categoria:</label>
    <select id="editTaskTipo">
      <option value="indispensavel">IndispensÃ¡vel</option>
      <option value="desejavel">DesejÃ¡vel</option>
    </select>

    <div class="modal-buttons">
      <button id="editTaskSaveBtn" class="btn-small">Salvar</button>
      <button id="editTaskCancelBtn" class="btn-small btn-outline">Cancelar</button>
    </div>
  </div>
</div>

<!-- ===== JS PRINCIPAL ===== -->
<script src="script.js"></script>

<!-- Registro do Service Worker -->
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker
        .register("./sw.js")
        .then(() => console.log("Service Worker registrado!"))
        .catch(err => console.log("Erro no registro do Service Worker:", err));
    }
  </script>
</body>
</html>
